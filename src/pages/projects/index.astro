---
import BaseLayout from '../../layouts/BaseLayout.astro';
import ProjectCard from '../../components/ProjectCard.astro';
import { getCollection } from 'astro:content';

const projects = await getCollection('projects');
---

<BaseLayout
  title="Proyectos â€” Martin Ruiz"
  description="Listado de proyectos de Martin Ruiz"
>
  <section>
    <h1 class="mb-6 text-2xl font-bold">Proyectos</h1>
    <div class="grid gap-4 sm:grid-cols-2">
      {
        projects.map((p) => (
          <ProjectCard
            title={p.data.title}
            teaser={p.data.teaser}
            year={p.data.year}
            tags={p.data.tags}
            href={`/projects/${p.slug}`}
          />
        ))
      }
    </div>
  </section>
</BaseLayout>
